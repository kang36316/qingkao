{extend name="base" /}{block name="body"}<div class="layui-layout bg-f8fafc">    <div class="layui-layout">        <div class="layui-row yxt-courseinfo">            <div class="mylearn_CoursePage_Banner">                <div class="mylearn_CoursePage_Banner_Img">                    <div class="mylearn_CoursePage_Banner_Mask"></div>                    <img src="{$info.picture}" alt="{$info.title}">                </div>                <div class="layui-container mylearn-course-container mt20">                    <div class="yxt-course-before layui-row" style="height:210px;">                        <div class="pic layui-col-md4 layui-col-xs12" style="height:210px;">                            <img  src="{$info.picture}" alt="{$info.title}">                        </div>                        <div class="mylearn-course-info layui-col-md5 layui-col-xs12 pdl30 pdr20 pdt10 border-right">                            <div class="layui-col-md12 mb20">                                <span class="course-title c-666">{$info.title}</span>                            </div>                            <div class="layui-col-md12 c-666 mb20">                                <span class="course-teacher">主讲老师：{$info.teacher_id|getTeacherName}</span>                            </div>                            <div class="layui-col-md12 c-666 mb20">                                <span class="course-teacher">有效期剩余：{$remain}</span>                            </div>                            <div class="layui-col-md12 c-666 mb20">                                <span class="course-teacher">已完成任务： {$studiedNum}／{$allNum}</span>                            </div>                            {if condition="$info['type']==1"}                            <div class="layui-col-md12 c-666 mb20">                                <span class="mylearn-studding"><i class="layui-icon layui-icon-play mr10"></i>上次学习：{$lastStudy['title']|default="还未学习"}</span>                            </div>                            {/if}                        </div>                        {if condition="$info['type']==1"}                        <div class="layui-col-md3 layui-col-xs12 border-left tc">                            <div id="main" style="margin:0 auto;width:150px;height:150px;"></div>                            <div class="mask"><span>{$progress}</span>%</div>                            <div class="mylearn-course-yixue layui-word-aux">已学课时{$studiedNum}／总课时{$allNum}</div>                            {if condition="$isDaoQi"}                            <a href="{:url('index/Course/creatorder',['id'=>hashids_encode($info.id),'type'=>hashids_encode($info.type)])}"                               class="layui-btn layui-btn-danger layui-btn-fluid  layui-layout-right" style="margin-top: 183px;">课程到期请重新购买</a>                            {else/}                                <div class="check-learn">                                {if condition="$studiedNum==0"}                                    <a href="javascript:void(0)"  class="layui-btn layui-btn-primary layui-btn-fluid continue-study layui-layout-right">还未开始学习</a>                                    {else/}                                    <a href="javascript:void(0)" sid="{$lastStudy['id']}" type="1" url="{:url('index/Course/checkBuy')}" class="layui-btn layui-btn-primary layui-btn-fluid continue-study layui-layout-right">继续学习</a>                                {/if}                                </div>                            {/if}                        </div>                        {/if}                        {if condition="$info['type']==2"}                        <div class="layui-col-md3 layui-col-xs12 border-left tc">                            <div class="layui-card">                                <div class="layui-card-header">直播预告</div>                                <div class="layui-card-body">                                    {foreach name="recentlyLive" item="vo" empty="$empty"}                                    <div class="layui-word-aux">{$vo.starttime}</div>                                    <div class="layui-word-aux mt10">{$vo.title}</div>                                    {/foreach}                                </div>                            </div>                        </div>                        {/if}                    </div>                </div>            </div>        </div>    </div>    <div class="layui-container mt30 pdb40">        <div class="layui-row">            <div class="yxt_teacher-list">                <div class="layui-row layui-col-space20">                    <div class="layui-col-md9 ">                        <div class="bg-fff layui-tab layui-tab-brief shadow">                            <ul class="yxt-course-tab-title layui-tab-title">                                <li class="layui-this">课时目录</li>                                <li>课程评论</li>                                <li>资料下载</li>                            </ul>                            <div class="layui-tab-content">                                <div class="layui-tab-item layui-show">                                    <div class="yxt-layui-collapse layui-collapse" lay-accordion>                                        {if condition="!empty($secList[0]['section'])"}                                        {foreach name="secList" item="vo"}                                        <div class="yxt-layui-colla-item layui-colla-item">                                            <h2 class="layui-colla-title">{$vo.title}</h2>                                            <div class="yxt-layui-colla-content layui-colla-content layui-show">                                                {if condition="$info['type']==1"}                                                <ul class="yxt-course-seclist check-learn">                                                    {foreach name="vo['section']" item="voo"}                                                    <li><a href="javascript:void(0)" sid="{$voo['id']}" type="1" url="{:url('index/Course/checkBuy')}">{:isStudyBySid($voo.csid,$voo.id,$voo.coursetype)}{:getSecIcon($voo.sectype)}{$voo.title}<i class="layui-icon layui-icon-play fr"></i> </a></li>                                                    {/foreach}                                                </ul>                                                {/if}                                                {if condition="$info['type']==2"}                                                <ul class="yxt-course-seclist check-learn">                                                    {foreach name="vo['section']" item="voo"}                                                    <li class="layui-elip"><a href="javascript:avoid(0)" target="_blank" sid="{$voo['id']}" type="2" url="{:url('index/Course/checkBuy')}"><span class="layui-col-md9">{:isStudyBySid($voo.csid,$voo.id,2)}{:getSecIcon($voo.sectype)}{$voo.title}</span><span class="layui-col-md2">{:getLiveStatus($voo.starttime,$voo.duration)}</span><i class="layui-icon layui-icon-play fr"></i> </a></li>                                                    {/foreach}                                                </ul>                                                {/if}                                            </div>                                        </div>                                        {/foreach}                                        {else /}                                        <div class="yxt-layui-colla-item layui-colla-item">                                            <div class="yxt-layui-colla-content layui-colla-content layui-show">                                                {if condition="$info['type']==1"}                                                <ul class="yxt-course-seclist check-learn">                                                    {foreach name="secList" item="voo"}                                                    <li><a href="javascript:void(0)" sid="{$voo['id']}" sid="{$voo['id']}" type="1" url="{:url('index/Course/checkBuy')}">{:isStudyBySid($voo.csid,$voo.id,$voo.coursetype)}<i class="layui-icon layui-icon-carousel mr10"></i>{$voo.title}<i class="layui-icon layui-icon-play fr"></i> </a></li>                                                    {/foreach}                                                </ul>                                                {/if}                                                {if condition="$info['type']==2"}                                                <ul class="yxt-course-seclist check-learn">                                                    {foreach name="secList" item="voo"}                                                    <li class="layui-elip"><a href="javascript:avoid(0)" target="_blank" sid="{$voo['id']}" type="2" url="{:url('index/Course/checkBuy')}"><span class="layui-col-md9">{:isStudyBySid($voo.csid,$voo.id,2)}{:getSecIcon($voo.sectype)}{$voo.title}</span><span class="layui-col-md2">{:getLiveStatus($voo.starttime,$voo.duration)}</span><i class="layui-icon layui-icon-play fr"></i> </a></li>                                                    {/foreach}                                                </ul>                                                {/if}                                            </div>                                        </div>                                        {/if}                                    </div>                                </div>                                <div class="layui-tab-item">                                    {foreach name="comment" item="vo" empty="$empty"}                                    <div class="yxt-card-teacher layui-row border-bottom mt10 ml20">                                        <div class="pic">                                            <a  href="javacript:void(0)" title=""><img  src="{$vo.uid|getAvatar|defaultAvatar}"></a>                                        </div>                                        <div class="comment ">                                            <div class="user-name c-blue">{$vo.uid|getUserName}<span class="c-999">&nbsp;&nbsp;评论：</span></div>                                            <div class="comments c-666">{$vo.contents}                                            </div>                                        </div>                                        <div class="of">                                            <span class="fr mb10">                                                <font class="fsize12 c-999 ml20">{$vo.addtime}</font>                                            </span>                                        </div>                                    </div>                                    {/foreach}                                </div>                                <div class="layui-tab-item">                                    <ul class="yxt-course-seclist downfile">                                        {foreach name="material" item="vo"}                                        <li><a href="javascript:avoid(0)" type={$info['type']} cid={$info.id} mid="{$vo.id}" url="{:url('index/Course/downMaterial')}"><i class="layui-icon layui-icon-file-b mr10"></i>{$vo.original_name}<i class="layui-icon layui-icon-download-circle fr"></i> </a></li>                                        {/foreach}                                    </ul>                                </div>                            </div>                        </div>                    </div>                    <div class="layui-col-md3">                        <div class="bg-fff layui-card shadow">                            <div class="layui-card-header c-666">主讲讲师</div>                            <div class="yxt-card-teacher layui-card-body">                                <div class="layui-row">                                    <div class="pic">                                        {if condition="empty($teacherInfo.id)"}                                        <a  href="javacript:void(0)" title=""><img  src="{$teacherInfo.uid|getAvatar|defaultAvatar}"></a>                                        {else/}                                        <a  href="{:url('index/teacher/centert',['id'=>$teacherInfo.id])}" title=""><img  src="{$teacherInfo.uid|getAvatar|defaultAvatar}"></a>                                        {/if}                                    </div>                                    <div class="name">                                        <a class="c-666" href="javacript:void(0)">{$info.teacher_id|getTeacherName}</a>                                    </div>                                </div>                                <div class="layui-row">                                    <div class="brief c-666">                                        {$teacherInfo.brief}                                    </div>                                </div>                            </div>                        </div>                        <div class="bg-fff layui-card shadow">                            <div class="layui-card-header c-666">课程学员</div>                            <div class="layui-card-body">                                <div class="layui-row  xueyuan-list pdt10">                                    {foreach name="courseUser" item="vo"}                                    <div class="layui-col-md3 mb20">                                        <div class="pic">                                            <a href="javascript:avoid(0)" title="{$vo.uid|getUserName}"><img src="{$vo.uid|getAvatar|defaultAvatar}"></a>                                        </div>                                    </div>                                    {/foreach}                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </div></div></div>{/block}{block name="js"}<script src="__JS__/echarts.min.js"></script><script>    if({$info['type']}==1){        var myChart = echarts.init(document.getElementById('main'));        var option = {            tooltip: {                trigger: 'item',                formatter: "{a} <br/>{b}: {c} ({d}%)"            },            series: [                {                    name:'学习进度',                    type:'pie',                    radius: ['50%', '70%'],                    avoidLabelOverlap: false,                    label: {                        normal: {                            show: false,                            position: 'center'                        },                        emphasis: {                            show: false,                            textStyle: {                                fontSize: '20',                                fontWeight: 'bold'                            }                        }                    },                    labelLine: {                        normal: {                            show: false                        }                    },                    data:[                        {value:{$studiedNum}, name:'已学'},                        {value:{$allNum}-{$studiedNum}, name:'未学'},                    ],                    color:['#009688', '#ccc']                }            ]        };        myChart.setOption(option);    }</script>{/block}