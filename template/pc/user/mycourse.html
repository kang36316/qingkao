{extend name="userbase" /}{block name="body"}<div class="fly-panel fly-panel-user" pad20="">    <div class="content-header mb20">        <ul class="header-item-container">            <li class="header-item active"><a href="javascript:;"> 我的课程</a></li>        </ul>    </div>    {foreach name="myCourse" item="vo" empty="$empty"}    <div class="layui-row  mycourse">        <div class="layui-col-md3 mycourse-left">            <div class="mycourse-pic">                <a href="{:url('index/user/mylearn',['id'=>hashids_encode($vo['courseInfo']['id']),'type'=>hashids_encode($vo['courseInfo']['type'])])}"><img src="{$vo['courseInfo']['picture']}"></a>            </div>        </div>        <div class="layui-col-md7 mycourse-detail mt10">            <div class="layui-row mt10">                <div class="mycourse-title font18">{$vo['courseInfo']['title']}</div>            </div>            <div class="layui-row mt15">                <div class="mycourse-title c-61">正在学习：{$vo['lastStudy']['title']|default="还未学习"}</div>            </div>            <div class="layui-row mt15">                <div class="layui-col-md3 mycourse-title c-61">课时：{$vo['courseInfo']['id']|getCourseNum=###,$vo['courseInfo']['type']}</div>                <div class="layui-col-md5 mycourse-title c-61">有效期剩余：{$vo['remain']}</div>                <div class="layui-col-md3 mycourse-title c-61">主讲老师：{$vo['courseInfo']['teacher_id']|getTeacherName}</div>            </div>        </div>        <div class="layui-col-md2">            <div class="layui-col-md2">                <div class="circle">                    <div class="pie_left"><div class="left"></div></div>                    <div class="pie_right"><div class="right"></div></div>                    <div class="mask"><span>{$vo['progress']}</span>%</div>                </div>            </div>        </div>    </div>    {/foreach}</div>{/block}{block name="js"}<script>    $(function() {        $('.circle').each(function(index, el) {            var num = $(this).find('span').text() * 3.6;            if (num<=180) {                $(this).find('.right').css('transform', "rotate(" + num + "deg)");            } else {                $(this).find('.right').css('transform', "rotate(180deg)");                $(this).find('.left').css('transform', "rotate(" + (num - 180) + "deg)");            };        });    });</script>{/block}